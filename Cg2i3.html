<html> 	<head> 		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7250753558435816" crossorigin="anonymous"></script> 		<link rel="stylesheet" href="../layout.css"> 		<script type="text/javascript" src="../functions.js"></script> 		<script type="text/javascript" src="../Js0C1f/C1203.js"></script> 	</head> 	<body onload='sP3f1();' onkeydown='sP3f4()' oncontextmenu="return false" onselectstart="return false" oncopy="return false" oncut="return false" onpaste="return false" draggable="false" ondragstart="return false" ondrop="return false"> 		<div id = "container"> 			<div id = "titleBox"> C 프로그래밍 </div> 			<div id = "navigationBox"><ol><li><a href='../Cf1i/Cf1i1.html'>출력</a></li><li><a href='../Cf2i/Cf2i1.html'>입력</a></li><li><a href='../Cf3i/Cf3i1.html'>변수/연산자</a></li><li><a href='../Cf4i/Cf4i1.html'>선택문(삼항연산자/switch)</a></li><li><a href='../Cf5i/Cf5i1.html'>선택문(if)</a></li><li><a href='../Cf6i/Cf6i1.html'>반복문(while)</a></li><li><a href='../Cf7i/Cf7i1.html'>반복문(for)</a></li><li><a href='../Cf8i/Cf8i1.html'>배열</a></li><li><a href='../Cf9i/Cf9i1.html'>문자열</a></li><li><a href='../Cg0i/Cg0i1.html'>함수</a></li><li><a href='../Cg1i/Cg1i1.html'>포인터</a></li><li><a href='../Cg2i/Cg2i1.html'>파일입출력</a></li><ul><li><a href='../Cg2i/Cg2i1.html'>파일 복사</a></li><li><a href='../Cg2i/Cg2i2.html'>영한 사전</a></li><li><a href='../Cg2i/Cg2i3.html'>날씨 뉴스</a></li><ul><li><a href='Cg2i3.html'>코드읽기</a></li><li><a href='Cg2i3a.html'>알고리즘</a></li><li><a href='Cg2i3k.html'>키워드</a></li><li><a href='Cg2i3b.html'>빈칸채우기</a></li><li><a href='Cg2i3s.html'>실행순서</a></li><li><a href='Cg2i3m.html'>실행상태</a></li><li><a href='https://github.com/CodeReading101/C/blob/main/Chapter12/Weather.c' target='code'>소스코드</a></li></ul><li><a href='../Cg2i/Cg2i4.html'>스포츠 뉴스</a></li><li><a href='../Cg2i/Cg2i5.html'>미로 맵 출력</a></li></ul><li><a href='../Cg3i/Cg3i1.html'>열거형/구조체/동적할당</a></li><li><a href='../Cg4i/Cg4i1.html'>함수자료전달</a></li><li><a href='../Cg5i/Cg5i1.html'>전처리기/파일분할</a></li></ol></div>  			<div id = "contentBox"> 				<h4>문제</h4> 				<pre style='white-space:normal;'>파일에서 날씨 정보를 추출하고, 그 추출 정보를 바탕으로 날씨 뉴스를 생성하는 문제입니다 이를 해결하는 다음 프로그램을 해석하세요 참고로, 날씨 정보는 아래와 같이 '정보 [ 탭 ] 정보 [ 탭 ] 정보 [ 탭 ] ...'의 구조로 저장되어 있습니다. 
<pre>
--------- 파일 weather1.txt의 내용 --------- 
1	31	목	대설특보	눈길	-4	-4	-1	0	4	4	1	3	2	2	4	5
6	29	금	호우특보	빗길	21	21	23	23	22	21	29	30	31	31	26	28
1	3	목	강풍주의보	안전	-8	-14	-7	-4	-2	2	2	2	4	7	8	7
--------- 파일 weather2.txt의 내용 --------- 
6	29	금	호우특보	빗길	21	21	23	23	22	21	29	30	31	31	26	28
--------- 파일 weather3.txt의 내용 --------- 
1	3	목	강풍주의보	안전	-8	-14	-7	-4	-2	2	2	2	4	7	8	7
</pre>
관련신문기사 - http://news.kmib.co.kr/article/view.asp?arcid=0013032800&code=61121611&cp=nv</pre> 				<pre class='selectable'>파일이름을 입력해 주세요 : <b><font color='red'>weather1.txt</font></b>
1월 31일 목요일, 아침 날씨입니다.
아침 최저기온은 서울 -4도, 춘천 -4도, 대전 -1도, 광주 0도, 부산 4도, 제주 4도로 예상됩니다.
낮 최고기온은 서울 1도, 춘천 3도, 대전 2도, 광주 2도, 부산 4도, 제주 5도로 예상됩니다.
일부 지방에 대설특보가 발효중입니다. 출근길 눈길 운전에 유의해야 합니다.
이상 날씨였습니다.
웨더봇 기자
6월 29일 금요일, 아침 날씨입니다.
아침 최저기온은 서울 21도, 춘천 21도, 대전 23도, 광주 23도, 부산 22도, 제주 21도로 예상됩니다.
낮 최고기온은 서울 29도, 춘천 30도, 대전 31도, 광주 31도, 부산 26도, 제주 28도로 예상됩니다.
일부 지방에 호우특보가 발효중입니다. 출근길 빗길 운전에 유의해야 합니다.
이상 날씨였습니다.
웨더봇 기자
1월 3일 목요일, 아침 날씨입니다.
아침 최저기온은 서울 -8도, 춘천 -14도, 대전 -7도, 광주 -4도, 부산 -2도, 제주 2도로 예상됩니다.
낮 최고기온은 서울 2도, 춘천 2도, 대전 4도, 광주 7도, 부산 8도, 제주 7도로 예상됩니다.
일부 지방에 강풍주의보가 발효중입니다. 출근길 안전 운전에 유의해야 합니다.
이상 날씨였습니다.
웨더봇 기자
</pre><br><pre class='selectable'>파일이름을 입력해 주세요 : <b><font color='red'>weather2.txt</font></b>
6월 29일 금요일, 아침 날씨입니다.
아침 최저기온은 서울 21도, 춘천 21도, 대전 23도, 광주 23도, 부산 22도, 제주 21도로 예상됩니다.
낮 최고기온은 서울 29도, 춘천 30도, 대전 31도, 광주 31도, 부산 26도, 제주 28도로 예상됩니다.
일부 지방에 호우특보가 발효중입니다. 출근길 빗길 운전에 유의해야 합니다.
이상 날씨였습니다.
웨더봇 기자
</pre><br><pre class='selectable'>파일이름을 입력해 주세요 : <b><font color='red'>weather3.txt</font></b>
1월 3일 목요일, 아침 날씨입니다.
아침 최저기온은 서울 -8도, 춘천 -14도, 대전 -7도, 광주 -4도, 부산 -2도, 제주 2도로 예상됩니다.
낮 최고기온은 서울 2도, 춘천 2도, 대전 4도, 광주 7도, 부산 8도, 제주 7도로 예상됩니다.
일부 지방에 강풍주의보가 발효중입니다. 출근길 안전 운전에 유의해야 합니다.
이상 날씨였습니다.
웨더봇 기자
</pre><br> 	  				<h4>알고리즘</h4> 				<pre style='white-space:normal;'>프로그램시작 <br>&nbsp; &nbsp;날씨 정보 파일 열기 <br>&nbsp; &nbsp;파일에서 날짜별 날씨 정보를 추출하기 <br>&nbsp; &nbsp;추출한 정보를 바탕으로 날씨 기사를 자동으로 생성 <br>&nbsp; &nbsp;날씨 정보 파일 닫기 <br>프로그램 종료 <br></pre> 		 				<br><h4>프로그램 코드 <input id='btn' type='button' value='실행순서 및 메모리상태 확인' onclick='sP3f5();'/></h4>  				<div id = "codeBox"><pre id="code0" class="unselectable codeClass">	<font color="green">// 파일명 : ./Chapter12/Weather.c</font>
</pre><pre id="code0" class="unselectable codeClass">	#include &lt;stdio.h&gt;
</pre><pre id="code0" class="unselectable codeClass">	 
</pre><pre id="code0" class="unselectable codeClass">	<font color="green">//<b> 프로그램시작 </b></font>
</pre>
<pre id="code1" class="unselectable codeClass">1	int main() {
</pre><pre id="code0" class="unselectable codeClass">		char month[1024]="", day[1024]="", week[1024]="", weatherReport[1024]="", precaution[1024]="";
</pre><pre id="code0" class="unselectable codeClass">		int  lowSeoul =0, lowChuncheon =0, lowDaejeon =0, lowGwangju =0, lowBusan =0, lowJeju =0;
</pre><pre id="code0" class="unselectable codeClass">		int  highSeoul=0, highChuncheon=0, highDaejeon=0, highGwangju=0, highBusan=0, highJeju=0;
</pre><pre id="code0" class="unselectable codeClass">		char filename[1024] = "", line[1024] = "";
</pre>
<pre id="code2" class="unselectable codeClass">2		<font color='red' title="파일 포인터형">FILE *</font>inFile = NULL;
</pre><pre id="code0" class="unselectable codeClass">	 
</pre><pre id="code0" class="unselectable codeClass">		<font color="green">//<b> 날씨 정보 파일 열기 </b></font>
</pre><pre id="code0" class="unselectable codeClass">		printf( "파일이름을 입력해 주세요 : " );
</pre><pre id="code0" class="unselectable codeClass">		scanf( "%s", filename );
</pre>
<pre id="code3" class="unselectable codeClass">3		if ( ( inFile = <font color='red' title="파일 열기 함수">fopen</font>( filename, "<font color='red' title="텍스트 파일 읽기모드">rt</font>" ) ) == NULL ) {
</pre><pre id="code0" class="unselectable codeClass">			printf( "[오류] 파일을 열 수 없습니다!" );
</pre>
<pre id="code4" class="unselectable codeClass">4			return -1;
</pre><pre id="code0" class="unselectable codeClass">		}
</pre><pre id="code0" class="unselectable codeClass"> 
</pre><pre id="code0" class="unselectable codeClass">		<font color="green">//<b> 파일에서 날짜별 날씨 정보를 추출하기 </b></font>
</pre>
<pre id="code5" class="unselectable codeClass">5		while ( <font color='red' title="파일에서 한 줄씩 읽는 함수">fgets</font>( line, 1024, inFile ) != NULL ) {
</pre>
<pre id="code6" class="unselectable codeClass">6			if( sscanf( line, "%s %s %s\t%s\t%s\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\n",
</pre><pre id="code0" class="unselectable codeClass">				month, day, week, weatherReport, precaution,
</pre><pre id="code0" class="unselectable codeClass">				&lowSeoul, &lowChuncheon, &lowDaejeon, 	&lowGwangju, &lowBusan, &lowJeju,
</pre><pre id="code0" class="unselectable codeClass">				&highSeoul, &highChuncheon, &highDaejeon, &highGwangju, &highBusan, &highJeju ) == 0 ) {
</pre><pre id="code0" class="unselectable codeClass">				printf( "[오류] 한 경기씩 주요 경기 내용 읽어올 수 없습니다." );
</pre>
<pre id="code7" class="unselectable codeClass">7				break;
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="code0" class="unselectable codeClass"> 
</pre><pre id="code0" class="unselectable codeClass">			<font color="green">//<b> 추출한 정보를 바탕으로 날씨 기사를 자동으로 생성 </b></font>
</pre><pre id="code0" class="unselectable codeClass">			printf("\n%s월 %s일 %s요일, 아침 날씨입니다.", month, day, week );
</pre><pre id="code0" class="unselectable codeClass">			printf("\n아침 최저기온은 서울 %d도, 춘천 %d도, 대전 %d도, 광주 %d도, 부산 %d도, 제주 %d도로 예상됩니다.",
</pre><pre id="code0" class="unselectable codeClass">				  lowSeoul, lowChuncheon, lowDaejeon, lowGwangju, lowBusan, lowJeju );
</pre><pre id="code0" class="unselectable codeClass">			printf("\n낮 최고기온은 서울 %d도, 춘천 %d도, 대전 %d도, 광주 %d도, 부산 %d도, 제주 %d도로 예상됩니다.",
</pre><pre id="code0" class="unselectable codeClass">				  highSeoul, highChuncheon, highDaejeon, highGwangju, highBusan, highJeju );
</pre><pre id="code0" class="unselectable codeClass">			printf("\n일부 지방에 %s가 발효중입니다. 출근길 %s 운전에 유의해야 합니다.",
</pre><pre id="code0" class="unselectable codeClass">				  weatherReport, precaution );
</pre>
<pre id="code8" class="unselectable codeClass">8			printf("\n이상 날씨였습니다.\n웨더봇 기자" );
</pre><pre id="code0" class="unselectable codeClass">		}
</pre><pre id="code0" class="unselectable codeClass"> 
</pre><pre id="code0" class="unselectable codeClass">		<font color="green">//<b> 날씨 정보 파일 닫기 </b></font>
</pre>
<pre id="code9" class="unselectable codeClass">9		<font color='red' title="파일 닫기 함수">fclose</font>( inFile );
</pre><pre id="code0" class="unselectable codeClass">	 
</pre><pre id="code0" class="unselectable codeClass">		<font color="green">//<b> 프로그램 종료 </b></font>
</pre>
<pre id="code10" class="unselectable codeClass">10		return 0;
</pre><pre id="code0" class="unselectable codeClass">	}
</pre></div>	 	 				<br><h4>키워드 설명</h4> 				<pre id = "sP3d3" style='white-space:normal;'></pre> 			 				<h4>실행 순서</h4> 				<pre id = "sP3d4" style='white-space:normal; width:800px;'> </pre> 				<pre style='white-space:normal;'> 					※ 실행순서 및 메모리상태는 A키(이전) 및 D키(다음)를 눌러도 확인할 수 있습니다  				</pre> 				<br><br> 			</div> 			<div id = "floatingBox"> 				<pre id = "outputBox" class ="outputBox" style = "color:White;height:230px;width:860px;padding:10px;margin:0px;"></pre>  				<div id = "intermediateResult"> 					<img id = "sP3d7"> 					<table style = "border-spacing:0px;margin:0px;table-layout:auto;"> 						<tbody id = "sP3d8"></tbody> 					</table> 				</div> 			</div> 		</div> 	</body> </html> 
